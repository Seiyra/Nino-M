const _0x5bb311=_0x3d88;(function(_0x3ad31f,_0x34a690){const _0x111410=_0x3d88,_0x2e1a2d=_0x3ad31f();while(!![]){try{const _0x2c3663=-parseInt(_0x111410(0x109))/0x1+parseInt(_0x111410(0x117))/0x2+-parseInt(_0x111410(0x10c))/0x3*(parseInt(_0x111410(0x10b))/0x4)+parseInt(_0x111410(0x108))/0x5+-parseInt(_0x111410(0x106))/0x6*(parseInt(_0x111410(0x121))/0x7)+-parseInt(_0x111410(0x114))/0x8+-parseInt(_0x111410(0x11f))/0x9*(-parseInt(_0x111410(0xfc))/0xa);if(_0x2c3663===_0x34a690)break;else _0x2e1a2d['push'](_0x2e1a2d['shift']());}catch(_0x2d0954){_0x2e1a2d['push'](_0x2e1a2d['shift']());}}}(_0x8a29,0xc905e));import _0x1e4134 from'node-fetch';import{addExif}from'../lib/sticker.js';function _0x3d88(_0x57d67e,_0x2e939c){const _0x8a29f4=_0x8a29();return _0x3d88=function(_0x3d88e7,_0x3e462f){_0x3d88e7=_0x3d88e7-0xfc;let _0x4b228c=_0x8a29f4[_0x3d88e7];return _0x4b228c;},_0x3d88(_0x57d67e,_0x2e939c);}function _0x8a29(){const _0xc4434c=['690taAlZN','Processing\x20static\x20image','*RESPOND\x20TO\x20AN\x20IMAGE,\x20VIDEO,\x20OR\x20GIF\x20WITH\x20','Processing\x20sticker\x20from\x20URL:','Invalid\x20media\x20type\x20or\x20no\x20media\x20provided','ملصقي','quoted','FULL','split','reply','76206XpHEDk','msg','5878480VfvQFJ','755866QskHPe','author','1071844SgCwiL','9eMQjGq','Creating\x20sticker\x20with:','DEFAULT','*Video\x20or\x20GIF\x20cannot\x20be\x20longer\x20than\x207\x20seconds*','Failed\x20to\x20download\x20image','ملصق','Sticker\x20created\x20from\x20image','seconds','2660616WuhUiG','Processing\x20WEBP\x20image','Error\x20in\x20sticker\x20creation:','567548kXOayh','Downloaded\x20image\x20successfully','toBuffer','Failed\x20to\x20download\x20video/gif','log','download','test','error','221841cbsDbp','Downloaded\x20video/gif\x20successfully','245JjRqGa','packname','Detected\x20MIME\x20type:','Failed\x20to\x20download\x20WEBP\x20image','help','sticker','Animated\x20sticker\x20created\x20from\x20video/gif','length','join','mediaType','mimetype','Downloaded\x20WEBP\x20image\x20successfully','*Failed\x20to\x20create\x20sticker:\x20','Processing\x20video/gif'];_0x8a29=function(){return _0xc4434c;};return _0x8a29();}import{Sticker,StickerTypes}from'wa-sticker-formatter';let handler=async(_0x5dc100,{conn:_0x464e25,args:_0x46aa1b,usedPrefix:_0x3e1b6c,command:_0x2d7333})=>{const _0x4cfa04=_0x3d88;let _0x28bc43=![];try{console[_0x4cfa04(0x11b)]('Handler\x20invoked\x20with\x20args:',_0x46aa1b);let [_0x50df29,..._0x512085]=_0x46aa1b[_0x4cfa04(0x129)]('\x20')[_0x4cfa04(0x104)](/!|\|/);_0x512085=(_0x512085||[])[_0x4cfa04(0x129)]('|');let _0x1f2a37=_0x5dc100[_0x4cfa04(0x102)]?_0x5dc100[_0x4cfa04(0x102)]:_0x5dc100,_0x4e0aed=(_0x1f2a37[_0x4cfa04(0x107)]||_0x1f2a37)[_0x4cfa04(0x12b)]||_0x1f2a37[_0x4cfa04(0x12a)]||'';console[_0x4cfa04(0x11b)](_0x4cfa04(0x123),_0x4e0aed);if(/webp/g[_0x4cfa04(0x11d)](_0x4e0aed)){console[_0x4cfa04(0x11b)](_0x4cfa04(0x115));let _0xe2e207=await _0x1f2a37['download']?.();if(!_0xe2e207){console[_0x4cfa04(0x11e)](_0x4cfa04(0x124));throw new Error(_0x4cfa04(0x124));}console[_0x4cfa04(0x11b)](_0x4cfa04(0x12c)),_0x28bc43=await addExif(_0xe2e207,_0x50df29||global[_0x4cfa04(0x122)],_0x512085||global[_0x4cfa04(0x10a)]),console[_0x4cfa04(0x11b)]('Sticker\x20created\x20with\x20addExif');}else{if(/image/g[_0x4cfa04(0x11d)](_0x4e0aed)){console['log'](_0x4cfa04(0xfd));let _0x306725=await _0x1f2a37[_0x4cfa04(0x11c)]?.();if(!_0x306725){console[_0x4cfa04(0x11e)](_0x4cfa04(0x110));throw new Error(_0x4cfa04(0x110));}console[_0x4cfa04(0x11b)](_0x4cfa04(0x118)),_0x28bc43=await createSticker(_0x306725,null,_0x50df29||global[_0x4cfa04(0x122)],_0x512085||global['author']),console[_0x4cfa04(0x11b)](_0x4cfa04(0x112));}else{if(/video/g[_0x4cfa04(0x11d)](_0x4e0aed)||/gif/g['test'](_0x4e0aed)){console[_0x4cfa04(0x11b)](_0x4cfa04(0x12e));let _0x2a9610=await _0x1f2a37[_0x4cfa04(0x11c)]?.();if(!_0x2a9610){console[_0x4cfa04(0x11e)](_0x4cfa04(0x11a));throw new Error(_0x4cfa04(0x11a));}console['log'](_0x4cfa04(0x120));if((_0x1f2a37[_0x4cfa04(0x107)]||_0x1f2a37)[_0x4cfa04(0x113)]>0x7)return console['log']('Video/GIF\x20longer\x20than\x207\x20seconds'),_0x5dc100['reply'](_0x4cfa04(0x10f));_0x28bc43=await createSticker(_0x2a9610,null,_0x50df29||global[_0x4cfa04(0x122)],_0x512085||global[_0x4cfa04(0x10a)],!![]),console[_0x4cfa04(0x11b)](_0x4cfa04(0x127));}else{if(_0x46aa1b[0x0]&&isUrl(_0x46aa1b[0x0]))console[_0x4cfa04(0x11b)](_0x4cfa04(0xff),_0x46aa1b[0x0]),_0x28bc43=await createSticker(null,_0x46aa1b[0x0],_0x50df29||global[_0x4cfa04(0x122)],_0x512085||global[_0x4cfa04(0x10a)]),console[_0x4cfa04(0x11b)]('Sticker\x20created\x20from\x20URL');else{console['log'](_0x4cfa04(0x100));throw new Error(_0x4cfa04(0xfe)+(_0x3e1b6c+_0x2d7333)+'*');}}}}}catch(_0xa4df9b){console[_0x4cfa04(0x11e)](_0x4cfa04(0x116),_0xa4df9b),_0x28bc43=_0x4cfa04(0x12d)+(_0xa4df9b['message']||_0xa4df9b)+'*';}finally{_0x28bc43 instanceof Buffer?(console[_0x4cfa04(0x11b)]('Sending\x20sticker\x20to\x20chat'),await _0x464e25['sendMessage'](_0x5dc100['chat'],{'sticker':_0x28bc43},{'quoted':_0x5dc100})):(console['log']('Sending\x20error\x20message\x20to\x20user'),_0x5dc100[_0x4cfa04(0x105)](_0x28bc43));}};handler[_0x5bb311(0x125)]=['sfull'],handler['tags']=[_0x5bb311(0x126)],handler['command']=[_0x5bb311(0x111),_0x5bb311(0x101)];export default handler;const isUrl=_0x254e94=>{const _0x42115b=_0x5bb311;return/https?:\/\/\S+\.(jpg|jpeg|png|gif)/i[_0x42115b(0x11d)](_0x254e94);};async function createSticker(_0x35c32e,_0xd94800,_0x56d1df,_0x4737ac,_0x1f532c=![]){const _0x45baf0=_0x5bb311;try{console[_0x45baf0(0x11b)](_0x45baf0(0x10d),{'img':!!_0x35c32e,'url':!!_0xd94800,'packName':_0x56d1df,'authorName':_0x4737ac,'animated':_0x1f532c});let _0x3527b7={'type':_0x1f532c?StickerTypes[_0x45baf0(0x103)]:StickerTypes[_0x45baf0(0x10e)],'pack':_0x56d1df,'author':_0x4737ac,'quality':0x64};const _0x188f57=new Sticker(_0x35c32e||_0xd94800,_0x3527b7),_0x3e1b8d=await _0x188f57[_0x45baf0(0x119)]();return console[_0x45baf0(0x11b)]('Sticker\x20buffer\x20created\x20successfully,\x20length:',_0x3e1b8d[_0x45baf0(0x128)]),_0x3e1b8d;}catch(_0xbeaa1e){console[_0x45baf0(0x11e)]('Error\x20in\x20createSticker\x20function:',_0xbeaa1e);throw _0xbeaa1e;}}