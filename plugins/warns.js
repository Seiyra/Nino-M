const _0x23de82=_0x536c;(function(_0x5d87e8,_0x45afe6){const _0x5393d3=_0x536c,_0x1faf50=_0x5d87e8();while(!![]){try{const _0x24f54f=parseInt(_0x5393d3(0x99))/0x1*(parseInt(_0x5393d3(0xb2))/0x2)+-parseInt(_0x5393d3(0x92))/0x3*(-parseInt(_0x5393d3(0x7d))/0x4)+parseInt(_0x5393d3(0xc5))/0x5*(-parseInt(_0x5393d3(0x8c))/0x6)+-parseInt(_0x5393d3(0x95))/0x7*(parseInt(_0x5393d3(0xa9))/0x8)+parseInt(_0x5393d3(0x9d))/0x9*(parseInt(_0x5393d3(0xbe))/0xa)+parseInt(_0x5393d3(0x8e))/0xb*(parseInt(_0x5393d3(0xa3))/0xc)+parseInt(_0x5393d3(0xb6))/0xd*(-parseInt(_0x5393d3(0xb9))/0xe);if(_0x24f54f===_0x45afe6)break;else _0x1faf50['push'](_0x1faf50['shift']());}catch(_0x4718b5){_0x1faf50['push'](_0x1faf50['shift']());}}}(_0x29be,0xb19af));import _0x3983fc from'mongoose';import _0x380184 from'dotenv';import _0x4b42ab from'../lib/Warning.js';_0x380184[_0x23de82(0x7c)]();const mongoUri=_0x23de82(0xc3);async function connectToMongoDB(){const _0x43298a=_0x23de82;try{await _0x3983fc[_0x43298a(0x79)](mongoUri,{'useNewUrlParser':!![],'useUnifiedTopology':!![]}),console[_0x43298a(0xbc)](_0x43298a(0xae));}catch(_0x38d48d){console['error'](_0x43298a(0xba),_0x38d48d[_0x43298a(0x78)]);}}connectToMongoDB();async function checkBotAdmin(_0x2d903f){const _0x417e7f=_0x23de82,_0x36903a=await _0x2d903f[_0x417e7f(0x9e)]['groupMetadata'](_0x2d903f[_0x417e7f(0xac)]);return _0x36903a[_0x417e7f(0xa7)][_0x417e7f(0x9b)](_0x2ab541=>_0x2ab541['id']===_0x2d903f['conn'][_0x417e7f(0xc1)]['jid']&&_0x2ab541[_0x417e7f(0x83)]!==null);}async function notifyAdminRequired(_0x3596f5){const _0x1de61b=_0x23de82;await _0x3596f5[_0x1de61b(0x9e)][_0x1de61b(0x93)](_0x3596f5[_0x1de61b(0xac)],{'text':'⚠️\x20يجب\x20أن\x20يكون\x20للبوت\x20صلاحيات\x20إدارية\x20لطرد\x20الأعضاء\x20بعد\x203\x20إنذارات.'});}async function removeUserIfNeeded(_0x2af9f9,_0x15d199,_0x46a937){const _0x190c60=_0x23de82,_0x4bcf8d=await _0x4b42ab[_0x190c60(0xca)]({'userId':_0x15d199,'groupId':_0x2af9f9[_0x190c60(0xac)]});if(_0x4bcf8d&&_0x4bcf8d[_0x190c60(0xa5)][_0x190c60(0x80)]>=0x3){const _0x180790=await checkBotAdmin(_0x2af9f9);_0x180790?(await _0x2af9f9['conn'][_0x190c60(0x93)](_0x2af9f9[_0x190c60(0xac)],{'text':_0x190c60(0xcb)+_0x46a937+_0x190c60(0x7f),'mentions':[_0x15d199+_0x190c60(0x84)]}),await _0x2af9f9['conn'][_0x190c60(0x96)](_0x2af9f9[_0x190c60(0xac)],[_0x15d199+_0x190c60(0x84)])):await notifyAdminRequired(_0x2af9f9);}}export async function handleAddWarningCommand(_0x3851cf,_0x17f6b9){const _0x1608fa=_0x23de82;if(!_0x3851cf['isGroup'])return _0x3851cf[_0x1608fa(0x82)]('🚫\x20هذا\x20الأمر\x20يعمل\x20فقط\x20في\x20المجموعات');try{const _0x15e3f0=await _0x3851cf[_0x1608fa(0x9e)][_0x1608fa(0xbf)](_0x3851cf['chat']),_0x2cb486=_0x15e3f0[_0x1608fa(0xa7)][_0x1608fa(0xb1)](_0x390591=>_0x390591[_0x1608fa(0x83)]!==null)['map'](_0x1f6f76=>_0x1f6f76['id']);if(!_0x2cb486['includes'](_0x3851cf[_0x1608fa(0x7e)]))return _0x3851cf[_0x1608fa(0x82)]('⚠️\x20هذا\x20الأمر\x20خاص\x20بالإداريين\x20فقط');let _0x3b4368,_0x3681ab;if(_0x3851cf[_0x1608fa(0x76)])_0x3b4368=_0x3851cf[_0x1608fa(0x76)][_0x1608fa(0x7e)][_0x1608fa(0xbd)]('@s.whatsapp.net',''),_0x3681ab=_0x3851cf[_0x1608fa(0x76)][_0x1608fa(0x7e)]['replace'](_0x1608fa(0x84),'');else{if(_0x3851cf[_0x1608fa(0x9c)]&&_0x3851cf[_0x1608fa(0x9c)][_0x1608fa(0x80)]>0x0)_0x3b4368=_0x3851cf['mentionedJid'][0x0][_0x1608fa(0xbd)](_0x1608fa(0x84),''),_0x3681ab=_0x3851cf[_0x1608fa(0x9c)][0x0]['replace']('@s.whatsapp.net','');else return _0x3851cf[_0x1608fa(0x82)](_0x1608fa(0x97));}_0x17f6b9=_0x17f6b9&&_0x17f6b9[_0x1608fa(0xc8)]()?_0x17f6b9:'❌\x20لم\x20يتم\x20تقديم\x20سبب';const _0x2cfe9b=await _0x4b42ab[_0x1608fa(0x86)]({'userId':_0x3b4368,'groupId':_0x3851cf[_0x1608fa(0xac)]},{'$push':{'warnings':{'cause':_0x17f6b9,'date':new Date()}}},{'new':!![],'upsert':!![]});if(_0x2cfe9b&&_0x2cfe9b[_0x1608fa(0xa5)]&&_0x2cfe9b[_0x1608fa(0xa5)][_0x1608fa(0x80)]>0x0){const _0x2cd6b2=_0x2cfe9b[_0x1608fa(0xa5)][_0x2cfe9b['warnings'][_0x1608fa(0x80)]-0x1],_0x3f82a0=new Date(_0x2cd6b2['date'])[_0x1608fa(0xc7)]('en-EG',{'year':_0x1608fa(0x74),'month':_0x1608fa(0x8f),'day':'numeric','hour':_0x1608fa(0x8a),'minute':_0x1608fa(0x8a)});await _0x3851cf[_0x1608fa(0x9e)][_0x1608fa(0x93)](_0x3851cf['chat'],{'text':'🔔\x20*إنذار\x20مضاف\x20ل\x20@'+_0x3681ab+_0x1608fa(0xa6)+_0x2cfe9b['warnings'][_0x1608fa(0x80)]+_0x1608fa(0xc2)+_0x2cd6b2['cause']+_0x1608fa(0xb4)+_0x3f82a0+_0x1608fa(0xc4),'mentions':[_0x3b4368+_0x1608fa(0x84)]}),await removeUserIfNeeded(_0x3851cf,_0x3b4368,_0x3681ab);}}catch(_0x11ca4c){console[_0x1608fa(0xb7)]('Error\x20in\x20handleAddWarningCommand:',_0x11ca4c[_0x1608fa(0x78)]),_0x3851cf[_0x1608fa(0x82)](_0x1608fa(0x81));}}export async function handleCheckUserWarningsCommand(_0x38ff53){const _0xe58ae0=_0x23de82;let _0x5e178f,_0x1db425='';if(_0x38ff53['quoted'])_0x5e178f=_0x38ff53[_0xe58ae0(0x76)][_0xe58ae0(0x7e)][_0xe58ae0(0xbd)](_0xe58ae0(0x84),'');else{if(_0x38ff53[_0xe58ae0(0x9c)]&&_0x38ff53['mentionedJid'][_0xe58ae0(0x80)]>0x0)_0x5e178f=_0x38ff53[_0xe58ae0(0x9c)][0x0][_0xe58ae0(0xbd)]('@s.whatsapp.net','');else return _0x38ff53['reply']('⚠️\x20منشن\x20شخص\x20أو\x20رد\x20على\x20رسالة\x20شخص\x20لرؤية\x20إنذاراته.');}try{const _0x3066cc=await _0x38ff53[_0xe58ae0(0x9e)][_0xe58ae0(0xbf)](_0x38ff53[_0xe58ae0(0xac)]),_0x24c638=_0x3066cc['participants'][_0xe58ae0(0xa1)](_0x191efb=>_0x191efb['id']===_0x5e178f+_0xe58ae0(0x84));_0x1db425=_0x24c638?_0x24c638[_0xe58ae0(0xab)]||_0x24c638['id'][_0xe58ae0(0x8b)]('@')[0x0]:_0x5e178f;const _0x2e61e1=await _0x4b42ab[_0xe58ae0(0xca)]({'userId':_0x5e178f,'groupId':_0x38ff53['chat']});if(_0x2e61e1&&_0x2e61e1[_0xe58ae0(0xa5)][_0xe58ae0(0x80)]>0x0){let _0x2d484d=_0xe58ae0(0x87)+_0x1db425+_0xe58ae0(0x91);_0x2e61e1['warnings']['forEach']((_0x55a1c7,_0x30a995)=>{const _0x2a4c45=_0xe58ae0;_0x2d484d+='\x0a'+(_0x30a995+0x1)+_0x2a4c45(0x8d)+_0x55a1c7[_0x2a4c45(0x9f)]+'\x0a\x20\x20\x20📅\x20التاريخ:\x20'+new Date(_0x55a1c7[_0x2a4c45(0x85)])[_0x2a4c45(0xc7)]()+'\x0a';}),_0x2d484d+=_0xe58ae0(0x9a),await _0x38ff53[_0xe58ae0(0x9e)][_0xe58ae0(0x93)](_0x38ff53[_0xe58ae0(0xac)],{'text':_0x2d484d,'mentions':[_0x5e178f+_0xe58ae0(0x84)]});}else await _0x38ff53['conn'][_0xe58ae0(0x93)](_0x38ff53['chat'],{'text':_0xe58ae0(0x7b)+_0x1db425+_0xe58ae0(0x88),'mentions':[_0x5e178f+_0xe58ae0(0x84)]});}catch(_0x58627d){console[_0xe58ae0(0xb7)](_0xe58ae0(0x73),_0x58627d[_0xe58ae0(0x78)]),_0x38ff53[_0xe58ae0(0x82)](_0xe58ae0(0xa4));}}function _0x536c(_0x157f01,_0x202561){const _0x29be8c=_0x29be();return _0x536c=function(_0x536c1d,_0x8a0909){_0x536c1d=_0x536c1d-0x73;let _0xf6e76e=_0x29be8c[_0x536c1d];return _0xf6e76e;},_0x536c(_0x157f01,_0x202561);}export async function handleCheckOwnWarningsCommand(_0x43a131){const _0x31768e=_0x23de82;if(!_0x43a131[_0x31768e(0xc9)])return _0x43a131[_0x31768e(0x82)](_0x31768e(0xb0));try{const _0x116d04=_0x43a131['sender'][_0x31768e(0xbd)](_0x31768e(0x84),''),_0x553668=await _0x4b42ab['findOne']({'userId':_0x116d04,'groupId':_0x43a131[_0x31768e(0xac)]});if(_0x553668&&_0x553668['warnings']['length']>0x0){let _0x685e05='╭─🚨\x20إنذاراتك\x20🚨─╮\x0a';_0x553668[_0x31768e(0xa5)][_0x31768e(0xc0)]((_0x2252f4,_0x4db134)=>{const _0x4ff9e4=_0x31768e;_0x685e05+='\x0a'+(_0x4db134+0x1)+_0x4ff9e4(0x8d)+_0x2252f4[_0x4ff9e4(0x9f)]+_0x4ff9e4(0x94)+new Date(_0x2252f4[_0x4ff9e4(0x85)])[_0x4ff9e4(0xc7)]()+'\x0a';}),_0x685e05+='╰──────────╯',await _0x43a131[_0x31768e(0x9e)][_0x31768e(0x93)](_0x43a131['chat'],{'text':_0x685e05,'mentions':[_0x43a131[_0x31768e(0x7e)]]});}else await _0x43a131[_0x31768e(0x9e)]['sendMessage'](_0x43a131[_0x31768e(0xac)],{'text':_0x31768e(0xa2),'mentions':[_0x43a131[_0x31768e(0x7e)]]});}catch(_0x382dc6){console[_0x31768e(0xb7)]('Error\x20in\x20handleCheckOwnWarningsCommand:',_0x382dc6[_0x31768e(0x78)]),_0x43a131['reply'](_0x31768e(0xa4));}}export async function handleClearUserWarningsCommand(_0x57485f){const _0x7b7814=_0x23de82;if(!_0x57485f['isGroup'])return _0x57485f['reply'](_0x7b7814(0xb0));try{const _0x5e4164=await _0x57485f[_0x7b7814(0x9e)][_0x7b7814(0xbf)](_0x57485f[_0x7b7814(0xac)]),_0x25ab61=_0x5e4164[_0x7b7814(0xa7)]['filter'](_0x322626=>_0x322626[_0x7b7814(0x83)]!==null)[_0x7b7814(0xb3)](_0x1d19bb=>_0x1d19bb['id']);if(!_0x25ab61[_0x7b7814(0xaf)](_0x57485f[_0x7b7814(0x7e)]))return _0x57485f[_0x7b7814(0x82)](_0x7b7814(0xa0));let _0x537875;if(_0x57485f[_0x7b7814(0x76)])_0x537875=_0x57485f[_0x7b7814(0x76)][_0x7b7814(0x7e)][_0x7b7814(0xbd)]('@s.whatsapp.net','');else{if(_0x57485f['mentionedJid']&&_0x57485f[_0x7b7814(0x9c)][_0x7b7814(0x80)]>0x0)_0x537875=_0x57485f[_0x7b7814(0x9c)][0x0]['replace'](_0x7b7814(0x84),'');else return _0x57485f[_0x7b7814(0x82)]('⚠️\x20قم\x20بمنشن\x20شخص\x20أو\x20الرد\x20على\x20رسالة\x20لإزالة\x20الإنذارات\x20🔔');}await _0x4b42ab[_0x7b7814(0xb8)]({'userId':_0x537875,'groupId':_0x57485f['chat']}),await _0x57485f[_0x7b7814(0x9e)]['sendMessage'](_0x57485f['chat'],{'text':_0x7b7814(0xbb)+_0x537875+'!','mentions':[_0x537875+_0x7b7814(0x84)]});}catch(_0x130688){console[_0x7b7814(0xb7)](_0x7b7814(0x7a),_0x130688[_0x7b7814(0x78)]),_0x57485f[_0x7b7814(0x82)]('❌\x20حدث\x20خطأ\x20أثناء\x20إزالة\x20الإنذارات.');}}function _0x29be(){const _0x264b1a=['انذار','5889455cwwDZs','error','deleteMany','28aXWLKY','Error\x20connecting\x20to\x20MongoDB:','✔️\x20تم\x20إزالة\x20جميع\x20الإنذارات\x20لـ\x20@','log','replace','230030fhHChj','groupMetadata','forEach','user','\x20/\x203\x0a\x0a*سبب\x20الإنذار:*\x0a-\x20إنذار:\x20_','mongodb+srv://itachi3mk:mypassis1199@cluster0.zzyxjo3.mongodb.net/?retryWrites=true&w=majority','\x0a\x0a\x0a🚨\x20*تحذير:*\x20إذا\x20وصلت\x20إلى\x203\x20إنذارات،\x20سيتم\x20إزالتك\x20من\x20المجموعة.','2916185aHbZPy','tags','toLocaleString','trim','isGroup','findOne','⚠️\x20@','Error\x20in\x20handleCheckUserWarningsCommand:','numeric','❌\x20حدث\x20خطأ\x20أثناء\x20معالجة\x20الأمر.','quoted','انذاراتي','message','connect','Error\x20in\x20handleClearUserWarningsCommand:','✔️\x20@','config','16uGnXYZ','sender','\x20تلقى\x203\x20إنذارات!\x20سيتم\x20طرده\x20من\x20المجموعة\x20🚫','length','❌\x20حدث\x20خطأ\x20أثناء\x20إضافة\x20الإنذار.','reply','admin','@s.whatsapp.net','date','findOneAndUpdate','╭─🚨\x20إنذارات\x20@','\x20ليس\x20لديه\x20أي\x20إنذارات.','slice','2-digit','split','6NfOnVj','.\x20⚠️\x20السبب:\x20','11JaXaZz','long','⚠️\x20أمر\x20غير\x20معروف','\x20🚨─╮\x0a','246876OxCzsw','sendMessage','\x0a\x20\x20\x20📅\x20التاريخ:\x20','28hJAGmp','groupRemove','⚠️\x20قم\x20بمنشن\x20شخص\x20أو\x20الرد\x20على\x20رسالة\x20لإضافة\x20إنذار\x20🔔','انذاراته','3219iQZScd','╰──────────╯','some','mentionedJid','216RaQQED','conn','cause','⚠️\x20هذا\x20الأمر\x20خاص\x20بالإداريين\x20فقط','find','✔️\x20ليس\x20لديك\x20أي\x20إنذارات.','10227396cOOVwp','❌\x20حدث\x20خطأ\x20أثناء\x20جلب\x20الإنذارات.','warnings','!*\x20\x0a\x0a📋\x20*عدد\x20الإنذارات:*\x20','participants','حذف-انذاراته','44256FIClwt','join','notify','chat','حذف-انذار','Connected\x20to\x20MongoDB','includes','🚫\x20هذا\x20الأمر\x20يعمل\x20فقط\x20في\x20المجموعات','filter','314xYudfn','map','_\x0a\x0a\x0a🕒\x20*تاريخ\x20الإنذار:*\x20'];_0x29be=function(){return _0x264b1a;};return _0x29be();}const medoWarningsHandler=async function(_0x4f3a00,{conn:_0x3c1814,text:_0x415c5a,command:_0x2720df}){const _0x336c00=_0x23de82;try{switch(_0x2720df){case _0x336c00(0xb5):await handleAddWarningCommand(_0x4f3a00,_0x415c5a[_0x336c00(0x8b)]('\x20')[_0x336c00(0x89)](0x1)[_0x336c00(0xaa)]('\x20'));break;case _0x336c00(0x77):await handleCheckOwnWarningsCommand(_0x4f3a00);break;case _0x336c00(0x98):await handleCheckUserWarningsCommand(_0x4f3a00);break;case _0x336c00(0xad):await handleRemoveWarningCommand(_0x4f3a00,_0x415c5a[_0x336c00(0x8b)]('\x20')[_0x336c00(0x89)](0x1)[_0x336c00(0xaa)]('\x20'));break;case _0x336c00(0xa8):await handleClearUserWarningsCommand(_0x4f3a00);break;default:await _0x4f3a00[_0x336c00(0x82)](_0x336c00(0x90));}}catch(_0x521889){console[_0x336c00(0xb7)]('Error\x20handling\x20command:',_0x521889),_0x4f3a00['reply'](_0x336c00(0x75));}};medoWarningsHandler['command']=[_0x23de82(0xb5),'انذاراتي',_0x23de82(0x98),_0x23de82(0xad),_0x23de82(0xa8)],medoWarningsHandler[_0x23de82(0xc6)]=['Warnings'];export default medoWarningsHandler;